name: "HierarchicalPolicy"
obs_transforms:
  add_virtual_keys:
    virtual_keys:
      "goal_to_agent_gps_compass": 2
hierarchical_policy:
  high_level_policy:
    name: "FixedHighLevelPolicy"
    add_arm_rest: True
  defined_skills:
    open_cab:
      skill_name: "ArtObjSkillPolicy"
      name: "PointNavResNetPolicy"
      load_ckpt_file: "data/models/open_cab.pth"

    open_fridge:
      skill_name: "ArtObjSkillPolicy"
      skill_name: "ArtObjSkillPolicy"
      load_ckpt_file: "data/models/open_fridge.pth"

    close_cab:
      skill_name: "ArtObjSkillPolicy"
      obs_skill_inputs: ["obj_start_sensor"]
      load_ckpt_file: "data/models/close_cab.pth"

    close_fridge:
      skill_name: "ArtObjSkillPolicy"
      obs_skill_inputs: ["obj_start_sensor"]
      load_ckpt_file: "data/models/close_fridge.pth"

    pick:
      skill_name: "PickSkillPolicy"
      obs_skill_inputs: ["obj_start_sensor"]
      load_ckpt_file: "data/models/pick.pth"

    place:
      skill_name: "PlaceSkillPolicy"
      obs_skill_inputs: ["obj_goal_sensor"]
      load_ckpt_file: "data/models/place.pth"

    wait_skill:
      skill_name: "WaitSkillPolicy"
      max_skill_steps: -1
      force_end_on_timeout: False

    nav_to_obj:
      skill_name: "NavSkillPolicy"
      obs_skill_inputs: ["goal_to_agent_gps_compass"]
      obs_skill_input_dim: 2
      load_ckpt_file: "data/models/nav.pth"
      max_skill_steps: 300
      force_end_on_timeout: False

    reset_arm_skill:
      skill_name: "ResetArmSkill"
      max_skill_steps: 50
      reset_joint_state: [-4.50e-01, -1.08e00, 9.95e-02, 9.38e-01, -7.88e-04, 1.57e00, 4.62e-03]
      force_end_on_timeout: False

  use_skills:
    # Uncomment if you are also using these skills
    # open_cab: "open_cab"
    # open_fridge: "open_fridge"
    # close_cab: "open_cab"
    # close_fridge: "open_fridge"
    pick: "pick"
    place: "place"
    nav: "nav_to_obj"
    nav_to_receptacle: "nav_to_obj"
    wait: "wait_skill"
    reset_arm: "reset_arm_skill"